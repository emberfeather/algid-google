(function(a){var d;a.google=a.extend({maps:{lat:-34.397,lng:150.644,options:{zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP}}},a.google||{});a(function(){a(".element .coordinate").each(function(){var b=a(this),d=a(".lat",b.parent()),c=a(".lng",b.parent()),f=new google.maps.LatLng(b.data("lat")||a.google.maps.lat,b.data("lng")||a.google.maps.lng),e=a.extend(a.google.maps.options,b.data("options")||{},{center:f});console.log(b.data("options"));console.log(e);var g=new google.maps.Map(this,e),h=new google.maps.Marker({position:f,
map:g});b.data("map",g);b.data("marker",h);b.data("options",e);google.maps.event.addListener(g,"click",function(a){d.val(a.latLng.lat());c.val(a.latLng.lng());g.panTo(a.latLng);h.setPosition(a.latLng)})}).bind("geocode",function(b,i){d=d||new google.maps.Geocoder;var c=a(this),f=a(".lat",c.parent()),e=a(".lng",c.parent());d.geocode({address:i},function(a,b){b==google.maps.GeocoderStatus.OK?(c.data("map").panTo(a[0].geometry.location),c.data("marker").setPosition(a[0].geometry.location),f.val(a[0].geometry.location.lat()),
e.val(a[0].geometry.location.lng())):console.error("Geocode Failed: "+b)})})})})(jQuery);
